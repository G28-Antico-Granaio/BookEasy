(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[337],{5985:function(e,t,i){Promise.resolve().then(i.bind(i,6709))},6709:function(e,t,i){"use strict";i.r(t);var s=i(7437),a=i(2265),r=i(9858),n=i(2483),o=i(6250),l=i(6572),c=i(4033),u=i(2173),d=i(253),h=i.n(d),_=i(187);t.default=function(){let[e]=r.Z.useForm(),t=(0,c.useRouter)(),[i,d]=a.useState(!1),p=async e=>{try{d(!0);let i=localStorage.getItem("email")||"",s={...e,email:i};await u.Z.post("/api/auth/delete-account",s),n.ZP.success("Account Eliminato"),t.push("/")}catch(e){n.ZP.error(e.response.data.message)}finally{localStorage.removeItem("email"),d(!1)}},[m,f]=(0,a.useState)(null),[b,x]=(0,a.useState)(!0);return(a.useEffect(()=>{f(localStorage.getItem("log")),x(!1)},[]),b)?(0,s.jsx)(_.Z,{}):"true"===m?(0,s.jsxs)("section",{className:"container",children:[(0,s.jsx)("h1",{children:"Eliminazione Account"}),(0,s.jsx)("section",{className:h().blabla,children:"Quando elimini il tuo account, non potrai pi\xf9 recuperare le tue vecchie credemziali e lo storico delle prenotazioni. Inoltre non sar\xe0 pi\xf9 possibile prenotare online in questo ristornate."}),(0,s.jsx)("section",{className:h().blabla,children:"Se desideri procedere con l'operazione, inserisci la password e clicca conferma"}),(0,s.jsxs)(r.Z,{name:"delete",form:e,onFinish:p,scrollToFirstError:!0,children:[(0,s.jsx)(r.Z.Item,{name:"password",rules:[{required:!0,message:"Inserisci la tua Password"}],children:(0,s.jsx)(o.Z.Password,{placeholder:"Password",style:{width:"25%",height:"3rem"}})}),(0,s.jsx)(l.ZP,{htmlType:"submit",block:!0,loading:i,style:{width:"25% !important",height:"3rem"},children:"Cancella definitivamente l'account"})]})]}):void t.push("/login")}},187:function(e,t,i){"use strict";var s=i(7437);i(2265),t.Z=function(){return(0,s.jsx)("div",{className:"bg-black bg-opacity-75 h-screen w-full fixed inset-0 flex justify-center items-center z-50",children:(0,s.jsx)("div",{className:"h-8 w-8 border-4 border-solid border-white border-t-black animate-spin rounded-full"})})}},253:function(e){e.exports={form:"auth_form__yY450",link:"auth_link__fCwis",prefix:"auth_prefix__OCqsp",postfix:"auth_postfix__kV_7U",blabla:"auth_blabla__JdH1O",date:"auth_date__oH2yK",past_rev:"auth_past_rev__AxvjO",post_rev:"auth_post_rev__5pfit",review:"auth_review__6ctUl"}}},function(e){e.O(0,[998,127,303,918,173,250,971,938,744],function(){return e(e.s=5985)}),_N_E=e.O()}]);